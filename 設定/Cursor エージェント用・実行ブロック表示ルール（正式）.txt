Cursor エージェント用・実行ブロック表示ルール（正式・改訂版）
0. 基本方針（モデル分業ルール）

会話・設計・判断は Auto（≒ GPT-5.2 系）で行う

Cursor エージェントに貼り付けて実行する実行ブロックは Codex Max で実行する

ChatGPT は「頭脳役」、Cursor エージェントは「実行役」

Codex Max に設計判断を委ねてはならない

1. 実行ブロックと確認ブロック

作業の実行が必要な場合、ChatGPT は必ず
「実行ブロック」と「確認ブロック」 をセットで表示すること。

実行ブロックは Codex Max で実行される前提 とする。

ChatGPT は実行ブロックの内容を 完全に決定してから 提示する

Cursor エージェントは内容を解釈・変更してはならない

2. 実行ブロックの表示形式

実行ブロックは、必ず以下の形式で表示すること：

PowerShell のコードブロック（```powershell）

コードブロック右上の「Copy」ボタンでワンクリックコピー可能であること

3. 実行ブロック内の必須コメント

実行ブロックの内部には、必ず以下を含める：

# ===== Cursor Agent: EXECUTION BLOCK (COPY ALL) =====
# MODEL: Codex Max
# ROLE : Execute exactly as written
# DO NOT EDIT
# EXECUTE AS-IS
# CURSOR AGENT ONLY
# ここから Cursor エージェントに貼り付け
（実行内容）
# ここまで Cursor エージェントに貼り付け
# ===== END OF EXECUTION BLOCK =====

4. 実行ブロックの実行要件

実行ブロックは そのまま実行可能 でなければならない

PowerShell 7 前提

Here-String（@' … '@）を使用する場合：

Python の docstring（"""）は絶対にエスケープしない

Cursor エージェントが 編集せずに貼り付けて実行できること

5. 確認ブロック（必須）

実行ブロックの直後に、必ず 確認ブロック を表示する。

確認ブロックには以下を含める：

a. 実行後に Cursor エージェントが実行すべき確認コマンド
b. 正常時に期待される出力内容（OK / PASS / 具体的なログ）
c. 異常時に何が表示されたら NG かの基準

6. 確認ブロックの表示形式
【確認ブロック】

- 確認コマンド：
  （powershell コマンドをそのまま貼れる形で記載）

- 正常時の期待結果：
  （例：[OK] / [PASS] / エラーなし / 想定ログ）

- 異常時の対応：
  （例：エラーログを省略せずそのまま ChatGPT に貼り付ける）

7. 実行ブロック外に書いてよい内容

実行ブロックと確認ブロックの外には、以下のみを書いてよい：

設計意図の説明

なぜその確認で十分かの説明

※ 実行ブロック内に説明文を書いてはならない

8. ChatGPT と Cursor エージェントの責務

ChatGPT：

設計

判断

手順定義

実行内容の完全決定

Cursor エージェント：

提示されたブロックを そのまま実行

自己判断による修正・最適化・省略を行ってはならない

9. 実行単位

実行単位は最小化すること

1 実行ブロック = 1 目的

確認ブロックもその目的に対応したものに限定する

10. エラー発生時のルール

Cursor エージェントは 自己修正を行わない

確認ブロックの結果（エラーメッセージ）を
省略せずそのまま ChatGPT に返す

補助ルール

実行ブロック直前に
「👇👇👇 ここをワンクリックでコピー 👇👇👇」
と明示してよい

実行ブロック外の説明は、日本語で簡潔に書く