T-60
ゴール

自動売買に入る前段として、
MT5の接続状態・口座状態・資金状態を人間が即判断できるGUIを完成させ、
誤操作・誤認・無自覚な real 接続を防ぐ。

実装完了内容（確定）
1. 口座帯（常時表示）

GUI上部に MT5口座帯 を常時表示

DEMO：青帯

REAL：赤帯

ログイン中は 「/ ログイン中」 を付加

どのタブにいても現在の口座・接続状態が即判別可能

2. 手動ログイン / ログアウト（Controlタブ）

Controlタブ「運転」枠に ログイン / ログアウトボタン を設置

GUI起動時の自動ログインは 行わない（安全側）

既存の MT5自己診断と同一の接続経路を再利用

GUI → services → core の責務境界を厳守

3. 口座ステータス表示（Controlタブ）

ログインボタンと取引ボタンの間に以下を表示：

残高（Balance）

有効証拠金（Equity）

余剰証拠金（Free Margin）

保有ポジション数

表示仕様

ログアウト中：すべて --

ログイン中：実値表示

**残高系フォントサイズを3倍（30px）**に拡大し、即視認可能

4. ログイン中のみ10秒ごとの自動更新（今回追加）

MainWindow に QTimer（10秒） を追加

ログイン中のみタイマーを start()

ログアウト時は即 stop()

未接続時に MT5 へ問い合わせない安全設計

更新内容

残高

有効証拠金

余剰証拠金

ポジション数

※すべて read-only スナップショット（取引・状態変更なし）

技術的に守られていること（重要）

GUIから MetaTrader5 を 直接 import / 呼び出ししていない

MT5接続・状態取得は services 層に集約

起動時に real 口座へ勝手に接続しない

例外発生時も GUI が落ちない（常に -- へフォールバック）

python -X utf8 -m py_compile 全通過

現在の到達点

Controlタブは 操作盤＋計器盤として完成

人間が「見てから押す」ための情報がすべて揃った

T-60（自動売買可能な状態への下地）達成

