ToDoリスト v4（内蔵スケジューラ前提）
グループA：3％KPI向けのコア機能（既存A1〜A7の整理）

ここは大きく変えず、既存のA1〜A7をそのまま進める方針：

A1：バックテストから monthly_returns.csv を必ず出す。

A2：基準ストラテジー（WFO＋月次リターンで妥当な設定）を1つ決める。

A3：target_monthly_return / target_monthly_vol / max_monthly_dd を使うロット・SLOロジックの実装。

A4：AIタブを「月次3％ダッシュボード」に仕上げる。

A5：バックテスト診断AI v0（時間帯別・DD原因分析）。

A6：MT5発注ラッパー＋1ヶ月デモ運用ログ。

A7：本番移行チェックリスト（docs/production_checklist.md）。

グループB：日本語UI・エディション制御・ランキング

B1：日本語UI化・文字化け検査

GUI全タブの日本語化。

ログ出力・エラー文言の見直し。

文字コードUTF-8統一と実際のログ・コンソールの確認。

B2：エディション情報と機能ロック

Edition 管理クラス（例：EditionGuard）を作成。

edition=free/basic/pro/expert/master に応じて：

接続可能口座（デモのみかどうか）

ロット上限

スケジューラ設定タブの機能ON/OFF

KPI/AIタブの項目表示
を制御。

B3：ランキング機能 v0（ローカルモック）

RankingService を実装し、ローカルJSONを「擬似サーバ」として読み書き。

「ランキング」タブを追加して、エディション別ランキング一覧・自分の成績表示。

Free閲覧のみ、Basic以上で送信ボタンONが動くことを確認。

グループC：内蔵スケジューラと週次再学習

C1：JobScheduler 基礎クラス実装

バックグラウンドスレッドで単純な「時刻チェック→ジョブ実行」を行うクラスを services に実装。

ジョブ定義は一旦ハードコーディング（週1回の再学習）で動くことを確認。

C2：設定ファイル連携（config.scheduler.yaml）

config.scheduler.yaml（または config.yaml の一部）にジョブ定義を記述。

Editionごとの enabled / 編集可否を反映。

C3：GUIからのスケジュール編集UI

設定タブに「週次再学習（内蔵スケジューラ）」セクションを追加。

Basic：

スイッチ（ON/OFF）のみ。

Pro以上：

曜日・時刻・ターゲットプロファイル編集。

スケジューラの現在状態（次回予定時刻）を表示。

C4：週次再学習ワークフロー確認

内蔵スケジューラをONにして、テスト用スケジュール（数分後）で scripts.walkforward_retrain.py が起動することを確認。

本番用として土曜深夜実行などに切り替え、ログが期待どおりに残ることを確認。

C5：旧Windowsタスクスケジューラスクリプトの整理

weekly_wf.ps1 などの「Windowsタスクスケジューラ前提スクリプト」はアーカイブ化：

scripts/legacy/ 等に移動し、「開発時の参考用」と明記。

ドキュメント類からも Task Scheduler 依存の記述を削除または「非推奨」と明記。